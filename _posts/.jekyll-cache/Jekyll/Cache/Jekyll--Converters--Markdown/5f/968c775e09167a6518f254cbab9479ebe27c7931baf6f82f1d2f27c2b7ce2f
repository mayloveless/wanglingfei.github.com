I"ã<p>æ”¯æŒm3u8å³æ”¯æŒHLSåè®®ï¼Œåˆ¤æ–­æ–¹å¼å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
 * https://github.com/videojs/videojs-contrib-hls
 * Whether the browser has built-in HLS support.
 */
videojs.Hls.supportsNativeHls = (function() {
  var
    video = document.createElement('video'),
    xMpegUrl,
    vndMpeg;
  // native HLS is definitely not supported if HTML5 video isn't
  if (!videojs.Html5.isSupported()) {
    return false;
  }
  xMpegUrl = video.canPlayType('application/x-mpegURL');
  vndMpeg = video.canPlayType('application/vnd.apple.mpegURL');
  return (/probably|maybe/).test(xMpegUrl) ||
    (/probably|maybe/).test(vndMpeg);
})();
</code></pre></div></div>

<p><strong>m3u8æ–‡ä»¶çš„content-type:å®‰å“åªæ”¯æŒ application/vnd.apple.mpegurlï¼Œè€Œioså¯¹äºapplication/x-mpegURLï¼Œapplication/vnd.apple.mpegURLå‡æ”¯æŒã€‚</strong></p>

<p>p.s videojs å…³äºHLSæŠ€æœ¯åšäº†è®¸å¤šå·¥å…·ï¼Œéå¸¸å¼ºå¤§ï¼Œç”šè‡³å¯ä»¥æŠŠæµè¯»è¿‡æ¥ç„¶åå°è£…æˆå¦å¤–çš„æ ¼å¼ï¼Œå‚è§å‚è€ƒæ–‡æ¡£ã€‚</p>

<hr />
<p>14.12.05æ›´æ–°</p>

<p><strong>è°ƒç ”Androidç³»ç»Ÿä¸‹HLSçš„æ”¯æŒæƒ…å†µ</strong>*</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>æµ‹è¯•ç¯å¢ƒï¼šAndroid4.4.4ï¼ŒAndroid4.3ï¼ŒAndroid 4.2.2
æµ‹è¯•æµè§ˆå™¨ï¼šChromeã€Firefoxã€QQã€UCã€æ¬§æœ‹ã€å®‰å“æµè§ˆå™¨
æ³¨ï¼šæµ‹è¯•ç”¨tsæµä¸ºæœ¬åœ°æ–‡ä»¶éçº¿ä¸Šã€‚
</code></pre></div></div>

<p><strong>M3U8çš„content-typeä¸ºoctet-streamçš„æƒ…å†µä¸‹</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1ã€FireFoxä¸æ”¯æŒM3U8æ–‡ä»¶ï¼Œä¸‰ç§è®¾å¤‡å‡ä¸èƒ½æ’­æ”¾ã€‚åªèƒ½æ’­æ”¾Mp4 &amp; webm
2ã€UCæµè§ˆå™¨9.9.8ç‰ˆæœ¬ï¼Œä¸‰ç§è®¾å¤‡å‡å¶å‘å¡é¡¿ç°è±¡ï¼Œå¤„äºloadingçŠ¶æ€ï¼Œä¸€åŠå‡ ç‡èƒ½æœ€ç»ˆä¸‹è½½å®Œæ¯•ï¼Œæ’­æ”¾å‡ºæ¥ã€‚çŒœæµ‹ä¸ç½‘é€Ÿæœ‰å…³ã€‚
3ã€UCæµè§ˆå™¨çš„ENç‰ˆæœ¬ï¼ˆ10.0.1ï¼‰æ­£å¸¸æ’­æ”¾ã€‚
4ã€å…¶ä»–æµè§ˆå™¨æ­£å¸¸ï¼ŒAndroid4.2.2å†…ç½®æµè§ˆå™¨ä¼šå‡ºç°æœ‰ç”»é¢æ²¡å£°éŸ³çš„ç°è±¡ã€‚
5ã€åœ¨IOS7çš„iPadä¸‹æ­£å¸¸æ’­æ”¾ã€‚
</code></pre></div></div>

<p><strong>M3U8çš„content-typeä¸ºvnd.apple.mpegurlçš„æƒ…å†µä¸‹</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1ã€Android4.3 æ— æ³•æ’­æ”¾ã€‚
2ã€UCæµè§ˆå™¨ä¸‹æ’­æ”¾æµç•…ï¼Œå¶å‘ä¸Šé¢2çš„æƒ…å†µã€‚
3ã€å…¶ä»–åŒä¸Šé¢çš„1ã€4ã€5
</code></pre></div></div>

<p><strong>ç»æµ‹è¯•ï¼Œä»¥ä¸‹æƒ…å†µå¹¶ä¸å½±å“æ˜¯å¦å¯ä»¥æ’­æ”¾</strong></p>

<p>1ã€tsæ–‡ä»¶çš„H.264çš„é…ç¼–ç ç½®ï¼ˆå¦‚ä¹è§†å¤šä¸ºHDï¼Œæ–°æµªä¸ºMainï¼Œæµ‹è¯•baselineï¼‰</p>

<p>2ã€videoæ ‡ç­¾çš„å†™æ³•ï¼Œæœ‰å¦‚ä¸‹4ä¸­å†™æ³•</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;video controls width="300" height="270" src="drive.m3u8"&gt;&lt;/video&gt;
&lt;video  controls width="300" height="270"&gt;&lt;source  src="drive.m3u8"&gt; &lt;/video&gt;
&lt;video  type="application/x-mpegurl" controls width="300" height="270"&gt;&lt;source  src="drive.m3u8"&gt; &lt;/video&gt;
&lt;video  type="application/vnd.apple.mpegurl" controls width="300" height="270"&gt;&lt;source  src="drive.m3u8"&gt; &lt;/video&gt;
</code></pre></div></div>

<p>ç»“è®ºï¼šä»¤äººçº ç»“çš„Content-type</p>

<p>å‚è€ƒæ–‡æ¡£ï¼š</p>

<p><a href="https://github.com/videojs/videojs-contrib-hls">video.js HLS Tech</a></p>

<p><a href="http://www.jwplayer.com/html5/hls/">HTTP Live Streaming</a></p>

<p><a href="http://popotang.com/blog/content-type-android-hls.html">content-typeä¸€æ”¹ï¼Œæ¬¢ä¹å¼€æ€€â€”â€”webå‰ç«¯è§†é¢‘æ’­æ”¾æœ€å®¹æ˜“å¿½è§†çš„åœ°æ–¹</a></p>

:ET